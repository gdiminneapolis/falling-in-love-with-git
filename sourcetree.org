#+OPTIONS: reveal_center:t reveal_progress:t reveal_history:t reveal_control:t reveal_title_slide:nil
#+OPTIONS: reveal_rolling_links:t reveal_keyboard:t reveal_overview:t num:nil toc:nil
#+REVEAL_ROOT: https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/
#+REVEAL_THEME: moon
#+REVEAL_EXTRA_CSS: moon-extras.css
#+REVEAL_TRANS: none
#+REVEAL_HEAD_PREAMBLE: <meta name="description" content="GDI Class Falling in Love With Git 2.0">
#+REVEAL_POSTAMBLE: <div> Created by Tamara Temple &lt;tamara@tamouse.org&gt; </div>
#+REVEAL_PLUGINS: (markdown notes highlight)
#+HTML_DOCTYPE: <!DOCTYPE html>
#+HTML_HEAD: <link rel="stylesheet" href="non-reveal.css">

* Installing and Configuring SourceTree
** Download

   Go to https://www.sourcetreeapp.com/ and download the version for
   your OS (Mac or Win)

** Installation

   Run the installer

*** Install steps

    - Sign up with Atlassian
    - Register your copy
    - Skip step that connects to BitBucket or Github
    - After installation, start up SourceTree

** Configure
*** Install Command Line Tools

    From the *SourceTree* menu:

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/install-command-line-tools.png" class=""
         alt="Install Sourcetree Command Line Tools" />
    #+END_EXPORT

*** Set Preferences

    From the *SourceTree* menu:

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/preferences.png" class=""
         alt="Open SourceTree Preferences" />
    #+END_EXPORT

    #+REVEAL: split

    Make sure your user information is correct:

    #+BEGIN_EXPORT html
      <img src="images/sourcetree/set-user-info.png"
           class="" alt="Set your user info" />
    #+END_EXPORT

    #+REVEAL: split

    Set up the global gitignore file.

    #+BEGIN_EXPORT html
      <img src="images/sourcetree/set-global-gitignore.png"
           alt="Set the global gitignore file" />
    #+END_EXPORT

    You can edit it from here as well.

    #+REVEAL: split

    Set push branches to "matching":


    #+BEGIN_EXPORT html
    <img src="images/sourcetree/push-branches-matching.png"
         alt="Set push branches to matching" />
    #+END_EXPORT


*** Connect to Github

    Let's go ahead and connect up to your GitHub account.

    #+REVEAL: split

    Under the Account tab, click on "Add"

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/01-add-github-account.png" />
    #+END_EXPORT

    #+REVEAL: split

    Then select "GitHub", "OAuth", and click on "Connect"

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/02-connecting-to-github.png" />
    #+END_EXPORT

    #+REVEAL: split

    Log in to GitHub with your account

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/03-log-in-to-github.png" />
    #+END_EXPORT

    #+REVEAL: split

    After logging in, click on "Generate"

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/04-generate-the-key.png" />
    #+END_EXPORT

    #+REVEAL: split

    Have SourceTree generate the key pair.

    You can leave the Pass phrase fields empty.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/05-create-the-key.png" />
    #+END_EXPORT

    #+REVEAL: split

    Click on "OK" to enable the connection to GitHub

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/06-enable-account.png" />
    #+END_EXPORT

    #+REVEAL: split

    You are now connected to your GitHub account

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/07-github-account-connected.png" />
    #+END_EXPORT
    #+REVEAL: split

    Verify that the SourceTree key is on Github.

    In the browser, go to your account, *Settings* -> *SSH and GPG
    Keys*

    Look for the SourceTree key

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/github/08-verify-key-on-github.com.png" />
    #+END_EXPORT

* Getting Familiar with SourceTree
** Repository Bookmarks

   The bookmarks window gives you quick access to all your
   repositories that are managed in SourceTree

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/bookmarks-window.png" class="" alt="" />
   #+END_EXPORT

*** Creating new items

    - You can create new bookmarks and bookmark groups.
    - You can create new local and remote repos.
    - You can add existing local or remote repos.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/bookmarks-new-button.png" class="" alt="" />
    #+END_EXPORT


** Repository Window
   The repository window contains the controls and information for
   managing the repo.

   - Adding, commiting, and pushing changes
   - Creating, checking out, merging, and deleting branches

   #+REVEAL: split

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/repo-window.png" class="" alt="" />
   #+END_EXPORT


*** Menubar

    The menubar at the top has the major operations

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/menubar.png">
    #+END_EXPORT

*** Sidebar
    Hover over the major items in the side bar to show or hide them

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/sidebar.png" style="max-height: 60vh;">
    #+END_EXPORT

*** Log

    The log area in the upper right quadrant shows the history of
    commits to the repo.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/log-area.png" class="" alt="" />
    #+END_EXPORT

*** Status

    The status area shows the current status of the files at the
    selected log entry.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/status-area.png" class="" alt="" />
    #+END_EXPORT

* Create a New Project, Local First

  You can create a new local project repo

  ... and create the remote at the same time

** Choose location

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/01-choose-location-for-bookmark.png" class="" alt="" />
   #+END_EXPORT

** Create the local repo

   #+BEGIN_EXPORT html
      <img src="images/sourcetree/new-repo-local-first/02-create-the-local-repo.png" class="" alt="" />
   #+END_EXPORT

** Tell it the location

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/03-tell-it-the-location.png" class="" alt="" />
   #+END_EXPORT


** Create the remote

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/04-create-the-remote-repo.png" class="" alt="" />
   #+END_EXPORT


** See the new repo on Github

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/05-new-repo-on-github.png" class="" alt="" />
   #+END_EXPORT

** But it's still empty

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/06-but-its-still-empty.png" class="" alt="" />
   #+END_EXPORT

* Creating a New Project, Remote First

  If you want to go the other way, you can start by creating the
  remote repo first.

** Create the Remote Repo

   #+REVEAL: split

   Start creating the remote repo

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//01-click-new-repository.png" >
   #+END_EXPORT

   #+REVEAL: split

   Select "Create Remote"

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//02-select-create-remote.png">
   #+END_EXPORT

   #+REVEAL: split

   Create the remote repo

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//03-create-the-remote-repo.png">
   #+END_EXPORT

** Clone the remote to your local machine

   Click on remote to show your remote repos

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//04-click-on-remote.png" >
   #+END_EXPORT

   #+REVEAL: split

   Use the search box to filter the repos

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//05-search-for-repo.png" >
   #+END_EXPORT

   #+REVEAL: split

   Clone the repo

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//06-clone-repo.png" >
   #+END_EXPORT

   #+REVEAL: split

   Set the location for the clone on your local machine

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//07-set-location.png">
   #+END_EXPORT

   #+REVEAL: split

   Click the "Clone" button

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//08-click-clone.png" >
   #+END_EXPORT

   #+REVEAL: split

   Look at your new repo!

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-remote-first//09-new-repo.png" style="max-height: 50vh; ">
   #+END_EXPORT

   #+ATTR_REVEAL: :frag (fade-in)
   /but it's empty.../

* Create some content

  Fire up your editor and create a ~README.md~ file:

  #+BEGIN_SRC markdown
    # Hello World!

    This is the README file for this repository.
    It doesn't matter for this class what you put here.
    It's going to look different in the rest of the slides.

  #+END_SRC

** Check on the status

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/07-created-some-new-content.png" class="" alt="" />
   #+END_EXPORT

** Add, commit, and push

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/08-add-commit-and-push.png" class="" alt="" />
   #+END_EXPORT


** Output from commit message

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/09-output-from-initial-commit.png" class="" alt="" />
   #+END_EXPORT

** See local branches

   At first, SourceTree hides the local branches, so tell it to show
   them

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/10-see-local-branches.png" class="" alt="" />
   #+END_EXPORT

** See the remote branches, too

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/11-see-remote-branches.png" class="" alt="" />
   #+END_EXPORT


** Finally, look over at Github

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/new-repo-local-first/12-back-on-github-first-commt.png" class="" alt="" />
   #+END_EXPORT



* Tracking and Reverting Changes
** Before staging
** After staging, before committing
** After committing, before pushing
** After pushing

* Multiple Development Paths

  Work on multiple versions at the same time with:

  #+ATTR_REVEAL: :frag (fade-in)
  - Branching
  - Merging


  #+REVEAL: split

  Creating a new branch to work on a feature or bug,

  #+BEGIN_EXPORT html
  <img src="images/gitcats/cat-feature-branch.small.jpg"
       class="img-responsive"
       alt=""/>
  #+END_EXPORT

  and then merge it back into the regular development branch


** Branching

   To make a new branch from an existing branch, click the "Branch"
   button:

   #+BEGIN_EXPORT html
   <img src="images/sourcetree/branch-button.png" class=""
        alt="SourceTree branch button" />
   #+END_EXPORT

*** Give the branch a name

    In the dialog, enter the new branch name:

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/new-branch-name.png" class=""
         alt="Entering the new branch name" />
    #+END_EXPORT

    Leave the "Working copy parent" and "Checkout new branch" options selected.

*** Create the new branch

    Press then "Create Branch" button.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/01-create-new-branch.png" class="" alt="" />
    #+END_EXPORT

*** Your new branch

    In SourceTree, the current working branch is highlighted.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/02-new-branch-highlighted.png" class="" alt="" />
    #+END_EXPORT

*** Make some changes

    After you make some changes, SourcTree reports uncommitted changes

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/03-uncommited-changes.png" class="" alt="" />
    #+END_EXPORT

*** See the pending changes

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/04-pending-changes.png" class="" alt="" />
    #+END_EXPORT

*** Stage the changes

    Select the checkbox next to the changes you want to stage (or all)

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/05-stage-changes.png" class="" alt="" />
    #+END_EXPORT

*** Commit the changes

    Click on "Commit" to start the commit proess

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/06-commit-changes.png" class="" alt="" />
    #+END_EXPORT

*** Review, comment, and commit

    Review the changes, add a commit message, and commit.

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/07-commit-message.png" class="" alt="" />
    #+END_EXPORT

    Check the "Push" checkbox to also peform the push to the remote

*** Output from push

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/08-push-output.png" class="" alt="" />
    #+END_EXPORT

*** After the commit and push

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/09-after-commit-and-push.png" class="" alt="" />
    #+END_EXPORT

** Merging

   #+ATTR_REVEAL: :frag (fade-in)
   - When you're finished working in the development branch, you'll
     want  to merge those changes with the master branch.
   - Since the master branch may have also been updated, you need to
     first pull changes to master and merge with your development
     branch.
   - Resolve any conflicts that may arise.
   - Finally, Merge your development branch with master.

*** Set up a conflict with master

    Edit the ~README.md~ file

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/10-changing-the-readme-in-new-branch.png" class="" alt="" />
    #+END_EXPORT

*** Commit the update, but don't push

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/11-commit-update-but-dont-push.png" class="" alt="" />
    #+END_EXPORT

** Set up a conflict to resolve

*** Checkout master

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/12-checkout-master.png" class="" alt="" />
    #+END_EXPORT

    Edit the ~README.md~ file in master

*** See the uncommitted changes

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/13-uncommited-changes-in-master-branch.png" class="" alt="" />
    #+END_EXPORT

*** Commit and push changes in master

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/14-commit-and-push-changes-on-master.png" class="" alt="" />
    #+END_EXPORT

*** Check out the new branch again

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/15-checkout-new-branch-again.png" class="" alt="" />
    #+END_EXPORT

*** CONFLICT SET UP!

    The ~README.md~ file is changed in both the master and new
    branches

    - these changes cannot be resolved automatically

*** Now back to the regularly scheduled program

** Updating new branch with changes from master

*** Merge master into the new branch

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/16-merge-master-into-new-branch.png" class="" alt="" />
    #+END_EXPORT

*** Confirm the merge

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/17-confirm-merge.png" class="" alt="" />
    #+END_EXPORT

*** Merge result output

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/18-merge-result-output.png" class="" alt="" />
    #+END_EXPORT

*** Merge conflict warning

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/19-merge-conflict-warning.png" class="" alt="" />
    #+END_EXPORT

*** Merge conflicts visible in repo status

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/20-merge-conflicts-in-repo.png" class="" alt="" />
    #+END_EXPORT

** Resolving Merge Conflicts

*** Prepare to resolve conflict

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/21-prepare-to-resolve-conflicts.png" class="" alt="" />
    #+END_EXPORT

*** Launch merge tool
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/22-launch-merge-tool.png" class="" alt="" />
    #+END_EXPORT

*** Merge choices
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/23-merge-choices.png" class="" alt="" />
    #+END_EXPORT

*** Fix changes in editor
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/24-see-changes-in-editor.png" class="" alt="" />
    #+END_EXPORT

*** Edit the file to resolve changes
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/25-edit-the-file-to-resolve-conflicts.png" class="" alt="" />
    #+END_EXPORT

*** Mark the file resolved
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/25-mark-resolved.png" class="" alt="" />
    #+END_EXPORT

*** Complete the merge
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/26-complete-merge.png" class="" alt="" />
    #+END_EXPORT

*** Commit to complete the merge
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/27-complete-merge-commit.png" class="" alt="" />
    #+END_EXPORT

*** Push all the commits
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/28-push-all-commits.png" class="" alt="" />
    #+END_EXPORT

*** Push dialog
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/29-push-dialog.png" class="" alt="" />
    #+END_EXPORT

** Merge the new branch into master

*** Over on GitHub...

    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/30-how-things-look-on-github.png" class="" alt="" />
    #+END_EXPORT

*** Create a Pull Request
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/31-create-a-pr-on-github.png" class="" alt="" />
    #+END_EXPORT

*** PR Dialog
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/32-pull-request-dialog.png" class="" alt="" />
    #+END_EXPORT

*** PR View
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/33-pull-request.png" class="" alt="" />
    #+END_EXPORT

*** PR Files Diff
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/34-pull-request-files-diff.png" class="" alt="" />
    #+END_EXPORT

*** Merge PR Button
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/35-click-button-to-merge.png" class="" alt="" />
    #+END_EXPORT

*** Complete the merge
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/36-complete-merge-of-pull-request.png" class="" alt="" />
    #+END_EXPORT

*** Success!
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/37-successful-merge.png" class="" alt="" />
    #+END_EXPORT

** Updating the Local Master

*** Checkout local master
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/38-checkout-local-master.png" class="" alt="" />
    #+END_EXPORT

*** Pull changes from remote
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/39-pull-remote-changes.png" class="" alt="" />
    #+END_EXPORT

*** Pull dialog
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/40-pull-dialog.png" class="" alt="" />
    #+END_EXPORT

*** Pull output
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/41-pull-output.png" class="" alt="" />
    #+END_EXPORT

** Cleaning up

*** Delete the old "new" branch

    The "new" branch is now fully merged, so it can be deleted
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/42-delete-branch.png" class="" alt="" />
    #+END_EXPORT

*** Delete branch dialog
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/43-delete-branch-dialog.png" class="" alt="" />
    #+END_EXPORT

*** Delete branch output
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/44-delete-branch-output.png" class="" alt="" />
    #+END_EXPORT

*** Status after delete
    #+BEGIN_EXPORT html
    <img src="images/sourcetree/branching-and-merging/45-after-delete-branch.png" class="" alt="" />
    #+END_EXPORT

** Rebasing

   #+ATTR_REVEAL: :frag (fade-in)
   - Rebasing is a complicated topic, it takes some time to understand
     what's going on.
   - It's like merging, except not exactly.
   - Sadly, this is where SourceTree falls down.

     #+ATTR_REVEAL: :frag (fade-in)
     - it's incorrect
     - it's interface is confusing
     - So we're not covering it today
